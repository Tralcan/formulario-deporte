<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Formulario Diario</title>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Cargar datos almacenados
            if(localStorage.getItem("nombre")) {
                document.getElementById("nombre").value = localStorage.getItem("nombre");
            }
            if(localStorage.getItem("deporte")) {
                document.getElementById("deporte").value = localStorage.getItem("deporte");
            }

            // Guardar datos al enviar el formulario
            document.getElementById("formulario").addEventListener("submit", function() {
                localStorage.setItem("nombre", document.getElementById("nombre").value);
                localStorage.setItem("deporte", document.getElementById("deporte").value);
            });
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
  <script>
    const supabaseUrl = 'https://qqvkbwnyhjevrdyhvxbv.supabase.co';
    const supabaseAnonKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFxdmtid255aGpldnJkeWh2eGJ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMwOTIxMTgsImV4cCI6MjA1ODY2ODExOH0.3ACxuOf_NWjzz0yYjxVPstVrG08pb1ulG-BNEofW6Yc';
    const supabase = supabase.createClient(supabaseUrl, supabaseAnonKey);
</script>
<script>
    document.getElementById('formulario').addEventListener('submit', async function(event) {
      event.preventDefault();
      const nombre = document.getElementById('nombre').value;
      const deporte = document.getElementById('deporte').value;

      const { data, error } = await supabase
        .from('formularios')
        .insert([
          { nombre: nombre, deporte: deporte }
        ]);

      if (error) {
        console.error('Error al insertar datos:', error);
        alert('Hubo un error al enviar el formulario.');
      } else {
        alert('Formulario enviado con Ã©xito.');
        // Opcional: limpiar los campos del formulario
        document.getElementById('nombre').value = '';
        document.getElementById('deporte').value = '';
      }
    });
  </script>
</head>
<body>
    <form id="formulario">
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" name="nombre" required>
        <br>
        <label for="deporte">Deporte:</label>
        <input type="text" id="deporte" name="deporte" required>
        <br>
        <button type="submit">Enviar</button>
    </form>
</body>
</html>
